# Monzo Bank Configuration
# https://monzo.com

monzo:
  # Bank identification patterns
  identifiers:
    - "Monzo Bank Limited"
    - "monzo.com"
    - "MONZGB2L"
    - "Sort code: 04-00-04"

  # Header patterns for metadata extraction
  header_patterns:
    account_number: 'Account number:\s*(\d+)'
    sort_code: 'Sort code:\s*([\d-]+)'
    period_start: '(\d{2}/\d{2}/\d{4})\s*-\s*\d{2}/\d{2}/\d{4}'
    period_end: '\d{2}/\d{2}/\d{4}\s*-\s*(\d{2}/\d{2}/\d{4})'
    previous_balance: 'Personal Account balance.*?\n.*?\(Excluding all Pots\).*?\n.*?[£]?([\d,]+\.?\d{0,2})'
    new_balance: 'Personal Account balance.*?\n.*?\(Excluding all Pots\).*?\n.*?[£]?([\d,]+\.?\d{0,2})'

  # Date formats
  date_formats:
    - "%d/%m/%Y"  # 31/05/2024

  # Transaction patterns (Monzo has two layouts - handled in custom parser)
  # Layout A: DD/MM/YYY[space]Description
  # Layout B: DD/MM/YYY alone, then description on next line
  # Both have final digit on separate line after amounts
  transaction_patterns: {}  # Custom parser needed

  # Column detection (approximate - Monzo uses flexible positioning)
  column_patterns:
    date: '^\s*\d{1,2}/\d{1,2}/\d{3}'
    description: '^\s{10,}[A-Z]'
    amount: '[£]?-?[\d,]+\.\d{2}'
    balance: '[£]?[\d,]+\.\d{2}\s*$'
